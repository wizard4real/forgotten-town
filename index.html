<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Forgotten Town</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>

#link1, #link2 {margin:5px auto;width:300px;line-height:2.8rem;font-size:1.1rem;padding:0.25rem 1rem; text-align:center;}


/* === ENABLE SCROLLING AFTER THE ANIMATION FINISHES === */
body.scrollable {
    overflow-y: auto !important;     /* allow vertical scrolling */
    height: auto !important;         /* let body grow with content */
}

/* Make sure the main content is not stuck behind fixed elements */
#bookdiv {
    position: relative;      /* ← THIS IS THE KEY CHANGE */
    top: auto;
    min-height: 100vh;
    padding-bottom: 20vh;    /* extra breathing room at the bottom */
    z-index: 10;
}

  @media screen and (max-width:799px) {
.speech {
font-size:32px !important;
width:300px !important;
}
    #wizard {height:90vh !important;}

}

  @media screen and (min-width:800px) {
    #wizard {height:90vh !important;}
#book {margin-top:15vh; }
    .mist {opacity:0.06 !important;}
    .speech {font-size:40px !important;}
  }

  * { margin:0; padding:0; box-sizing:border-box; text-align:center;}
  html, body {height:100%; overflow:hidden; background:#000; font-family:sans-serif;}

  #bgblack {position:fixed; inset:0; background:black; z-index:3;
            animation:fadeouty 14s forwards 0.3s;}

  #bgblack2 {position:fixed; inset:0; background:black; z-index:3;
            animation:fadeiny 3s forwards 32s;opacity:0;}


  #bg {
    position:fixed; inset:0; width:100%; height:100%; object-fit:cover;
    animation: bgPulse 22s ease-in-out infinite,
               dimScene 0s linear 36s forwards;
  }

  #wizard {
    position:fixed; bottom:-2vh; left:50%; transform:translateX(-50%);
    height:50vh; width:auto; z-index:2;
    filter: brightness(0.75) contrast(1.2) drop-shadow(0 0 3vw skyblue);
    opacity:0;
    animation: wizardAppear 1s linear 6s forwards,
               wizardBreathe 10s ease-in-out 8s infinite,
               wizardGlow 4s ease-in-out 8s infinite alternate,
               dimScene 0s linear 36s forwards;
  }

  @keyframes dimScene {
    to { filter: brightness(0.5) contrast(1.2) drop-shadow(0 0 25px transparent); }
  }

  /* ─────── LENS FLARES (intense, cinematic) ─────── */
  .radial-flare {
    position:fixed; top:50%; left:50%;
    width:120vmax; height:120vmax;
    background:radial-gradient(circle at center,
                rgba(135,206,255,1) 0%,
                rgba(135,206,255,0.7) 20%,
                transparent 55%);
    border-radius:50%;
    pointer-events:none; opacity:0;
    transform:translate(-50%,-50%) scale(0);
    mix-blend-mode:screen;
  }
  #rad1 { z-index:5;  animation: radialBurst 3s ease-out 33s forwards; }
  #rad2, #rad3, #rad4, #rad5 { z-index:16; }
  #rad2 { animation: radialBurst 3s ease-out 33.4s forwards; }
  #rad3 { animation: radialBurst 3s ease-out 33.8s forwards; }
  #rad4 { animation: radialBurst 3s ease-out 34.2s forwards; }
  #rad5 { animation: radialBurst 3s ease-out 34.6s forwards; }

  @keyframes radialBurst {
    0%   { opacity:0; transform:translate(-50%,-50%) scale(0); }
    15%  { opacity:1; transform:translate(-50%,-50%) scale(0.5); }
    70%  { opacity:0.7; transform:translate(-50%,-50%) scale(1.5); }
    100% { opacity:0; transform:translate(-50%,-50%) scale(3); }
  }

  /* Classic photographic lens flare – on top */
  .lensflare-set {
    position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
    width:100vmax; height:100vmax; pointer-events:none;
    opacity:0; z-index:20; mix-blend-mode:screen;
  }
  #lf1 { animation: realFlare 3.2s ease-out 32.2s forwards; }
  #lf2 { filter:hue-rotate(3deg) brightness(1.1); animation: realFlare 3.2s ease-out 32.7s forwards; }
  #lf3 { filter:hue-rotate(6deg) brightness(1.2); animation: realFlare 3.2s ease-out 33.3s forwards; }

  @keyframes realFlare {
    0%   { opacity:0; transform:translate(-50%,-50%) scale(0.3) rotate(0deg); }
    12%  { opacity:1; transform:translate(-50%,-50%) scale(1) rotate(15deg); }
    100% { opacity:0; transform:translate(-50%,-50%) scale(2) rotate(30deg); }
  }

  /* Real lens flare elements */
  .lensflare-set::before, .lensflare-set::after, .lensflare-set div {
    content:""; position:absolute; border-radius:50%;
    background:skyblue; box-shadow:0 0 40px 20px skyblue;
    mix-blend-mode:screen;
  }
  .lensflare-set::before { /* core */
    width:8vmin; height:8vmin; top:50%; left:50%; transform:translate(-50%,-50%);
    background:white; box-shadow:0 0 60px 30px white, 0 0 100px 60px skyblue;
  }
  .lensflare-set::after { /* big ring */
    width:40vmin; height:40vmin; top:50%; left:50%; transform:translate(-50%,-50%);
    border:4vmin solid rgba(135,206,255,0.6); background:transparent;
  }
  .lensflare-set div:nth-child(1) {width:80vmin; height:4vmin; top:50%; left:-20vmin; transform:translateY(-50%) rotate(20deg);}
  .lensflare-set div:nth-child(2) {width:60vmin; height:3vmin; top:50%; right:-15vmin; transform:translateY(-50%) rotate(-15deg);}

  /* BOOK */
  #book {
height:55vh; margin-top:2vh; margin-bottom:3vh; margin-left: 1vh;
    margin-right: -1vh;width:auto; z-index:10;
filter:brightness(1) contrast(1) drop-shadow(0 0 5vw skyblue);
    animation: bookGlow 3s ease-in-out 29.5s infinite alternate;
  }

  #bookdiv {
    position:fixed; top:0; left:50%;
z-index:10;
    opacity:0;
    animation: wizardAppear 1s linear 35s forwards;
display:inline-grid;
text-align:center;
transform: translateX(-50%);
  }



  .speech {
    position:fixed; bottom:38vh; left:50%; transform:translateX(-50%);
    font-size:5vw; font-weight:bold; color:skyblue; text-align:center;
    text-shadow:0 0 12px black; filter:drop-shadow(0 0 5px black);
    background:rgba(0,0,0,0.4); padding:0 1rem; line-height:1.4;
    pointer-events:none; opacity:0;
    z-index:8; /* back to original safe layer */
  }


  #txt1 { animation: fadeSequence 5s linear 1s forwards; }
  #txt2 { animation: fadeSequence 5s linear 6s forwards; }
  #txt3 { animation: fadeSequence 5s linear 12s forwards; }
  #txt4 { animation: fadeSequence 5s linear 17s forwards; }
  #txt5 { animation: fadeSequence 5s linear 22s forwards; }
  #txt6 { animation: fadeSequence 6s linear 28s forwards; }

  @keyframes fadeSequence {
    0%   { opacity:0; }
    10%  { opacity:1; }
    85%  { opacity:1; }
    100% { opacity:0; }
  }

  /* Rest of your original keyframes (unchanged) */
  @keyframes wizardAppear {from{opacity:0;}to{opacity:1;}}
  @keyframes bgPulse {0%,100%{filter:brightness(0.40) contrast(1.20);}50%{filter:brightness(0.67) contrast(1.30);}}
  @keyframes wizardBreathe {0%,100%{transform:translateX(-50%) translateY(0) rotate(0deg);}
    35%{transform:translateX(-50%) translateY(-4px) rotate(0.4deg);}
    70%{transform:translateX(-50%) translateY(1px) rotate(-0.3deg);}}
  @keyframes wizardGlow {from{filter:brightness(0.75) contrast(1.2) drop-shadow(0 0 3vw skyblue);}
    to{filter:brightness(0.95) contrast(1.4) drop-shadow(0 0 5vw skyblue);}}
  @keyframes bookGlow {
from{
filter:brightness(1) contrast(1) drop-shadow(0 0 18vw skyblue);
}
    to{
filter:brightness(1.1) contrast(1.05) drop-shadow(0 0 28vw skyblue);
}
}
  @keyframes fadeouty {from{opacity:1;}to{opacity:0.4;}}
  @keyframes fadeiny {from{opacity:0;}to{opacity:0.5;}}

#txt1 {color:white !important; background: none !important;}
</style>
</head>
<body>
  <div id="bgblack"></div>
  <div id="bgblack2"></div>
  <img id="bg" src="bg.jpg" alt="background">

  <p class="speech" id="txt1">You enter a town,<br>long forgotten..</p>
  <p class="speech" id="txt2">Greetings,<br>old friend!</p>
  <p class="speech" id="txt3">I knew you would<br>be back here.</p>
  <p class="speech" id="txt4">What was it,<br>in 1547?</p>
  <p class="speech" id="txt5">That dragon deserved it!<br>Anyway..</p>
  <p class="speech" id="txt6">I need to give<br>you something..</p>

  <img id="wizard" src="wizard.png" alt="wizard">
<div id="bookdiv">  <img id="book" src="book5.png">
<div id="link1" style="font-weight:bold;border: 1px solid skyblue;border-radius:6px;background: rgba(135,206,235,0.7);color: white;z-index: 100;"><img src="dl.webp" style="margin-top:8px;margin-bottom:-8px;display:inline-block;height:32px;float:left;filter: invert(1);">Download for FREE<img src="pdf.png" style="margin-top:8px;margin-bottom:-8px;display:inline-block;height:32px;float:right;"></div>
<h3 style="
    color: white;
    margin-top: 3px;
    margin-bottom: 20px;
    font-size:10px;
    opacity: 0.6;
">226 pages, 147 MB, v0.27</h3>
<div id="wrappy">
<div id="custom-shopify-buy-button">
        <div id="custom-buy-wrapper">
        </div>
        <!-- Paste the same <style> from above here for fallback -->
      </div>
<a href="#" target="_blank" style="color:white;font-size:10px;text-decoration:none;">Cryptocurrency Donation Info</a>
</div>
<script>
  // === FULLY STATIC - NO FETCHING ANYTHING ===
  const SHOP_DOMAIN = 'shop.thehealthiestwebsite.com';

  // Map display text → variant ID (add/remove as needed)
  const DONATION_OPTIONS = [
    { amount: "$10",   variantId: "49659123728723" },
    { amount: "$25",   variantId: "49659123761491" },
    { amount: "$50",   variantId: "49659123794259", selected: true },
    { amount: "$100",  variantId: "49659123827027" },
    { amount: "$250",  variantId: "49659123859795" },
    { amount: "$500",  variantId: "49659123892563" },
    { amount: "$1000", variantId: "49659123925331" },
    { amount: "$2500", variantId: "49659123958099" },
    { amount: "$5000", variantId: "49659123990867" },
    { amount: "$10000",variantId: "49659124023635" }
  ];

  // Build the donation widget
  document.getElementById('custom-shopify-buy-button').innerHTML = `
    <style>
      #wrappy {
        margin: 10px auto;
        max-width: 320px;
        padding: 10px;
        background: rgba(0,0,0,0.6);
        border: 1px solid rgba(255,255,255,0.2);
        border-radius: 6px;
        color: #fff;
        font-family: Arial, sans-serif;
      }
      #donate-select {
        width: 120px;
display:inline-block;
        padding: 8px;
        margin: 15px 0;
        background: white;
        color: black;
        border: 1px solid white;
        border-radius: 6px;
        font-size: 18px;
      }
      #donate-btn {
        padding: 11px;
        background: #f9a717;
        color: black;
        border: none;
        border-radius: 8px;
        font-size: 15px;
        font-weight: normal;
        cursor: pointer;
        transition: background 0.3s;
    display: inline-block;
    width: 100px;
    margin-left: 10px;
      }
      #donate-btn:hover { background: #ffde32; }
    </style>

    <div id="donate-wrapper">
      <h3 style="margin:0;color:#fff;font-size:15px;text-shadow:0 0 1.5px #000;">
        Give Coins to the Friendly Wizard:
      </h3>
      <select id="donate-select">
        ${DONATION_OPTIONS.map(opt => 
          `<option value="${opt.variantId}" ${opt.selected ? 'selected' : ''}>
            ${opt.amount}
          </option>`
        ).join('')}
      </select>
      <button id="donate-btn">Donate</button>
    </div>
  `;

  // Click handler
  document.getElementById('donate-btn').addEventListener('click', () => {
    const variantId = document.getElementById('donate-select').value;
    if (!variantId) {
      alert("Please select a donation amount!");
      return;
    }
    // Direct checkout URL with 1 quantity
    const checkoutUrl = `https://${SHOP_DOMAIN}/cart/${variantId}:1`;
    window.open(checkoutUrl, '_blank');
  });
</script>

</div>

  <!-- Radial bursts -->
  <div class="radial-flare" id="rad1"></div>
  <div class="radial-flare" id="rad2"></div>
  <div class="radial-flare" id="rad3"></div>
  <div class="radial-flare" id="rad4"></div>
  <div class="radial-flare" id="rad5"></div>

  <!-- Classic lens flares (on top) -->
  <div class="lensflare-set" id="lf1"><div></div><div></div></div>
  <div class="lensflare-set" id="lf2"><div></div><div></div></div>
  <div class="lensflare-set" id="lf3"><div></div><div></div></div>

  <img class="mist" id="mist1" src="clouds2.webp">
  <img class="mist" id="mist2" src="clouds2.webp">

<script>
  // Re-enable scrolling ~40 seconds in (after everything has happened)
  setTimeout(() => {
    document.body.classList.add('scrollable');
  }, 37000); // 40 seconds = safe margin after your last animation (~36s)
</script>

</body>
</html>