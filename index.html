<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Forgotten Town</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="data:image/png;base64,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">
<style>

#link1, #link2 {margin:5px auto;width:300px;line-height:2.8rem;font-size:1.1rem;padding:0.25rem 1rem; text-align:center;}


/* Make sure the main content is not stuck behind fixed elements */
#bookdiv {
    position: relative;      /* ← THIS IS THE KEY CHANGE */
    top: auto;
    z-index: 10;
}

  @media screen and (max-width:799px) {
.speech {
font-size:32px !important;
width:300px !important;
}
    #wizard {height:90vh !important;}

}

  @media screen and (min-width:800px) {
    #wizard {height:90vh !important;}
#book {margin-top:15vh; }
    .mist {opacity:0.06 !important;}
    .speech {font-size:40px !important;}
  }

  * { margin:0; padding:0; box-sizing:border-box; text-align:center;}
  html, body {height:auto; overflow-x:hidden; background:#000; font-family:sans-serif;}

  #bgblack {position:fixed; inset:0; background:black; z-index:3;
            animation:fadeouty 14s forwards 0.3s;}

  #bgblack2 {position:fixed; inset:0; background:black; z-index:3;
            animation:fadeiny 3s forwards 32s;opacity:0;}


  #bg {
    position:fixed; inset:0; width:100%; height:100%; object-fit:cover;
    animation: bgPulse 22s ease-in-out infinite,
               dimScene 0s linear 36s forwards;
  }

  #wizard {
    position:fixed; bottom:-2vh; left:50%; transform:translateX(-50%);
    height:50vh; width:auto; z-index:2;
filter:brightness(0.95) contrast(1.1) drop-shadow(0 0 3vw skyblue);
    opacity:0;
    animation: wizardAppear 1s linear 6s forwards,
               wizardBreathe 10s ease-in-out 8s infinite,
               wizardGlow 4s ease-in-out 8s infinite alternate,
               dimScene 0s linear 36s forwards;
  }

  @keyframes dimScene {
    to { filter: brightness(0.5) contrast(1.2) drop-shadow(0 0 25px transparent); }
  }

  /* ─────── LENS FLARES (intense, cinematic) ─────── */
  .radial-flare {
    position:fixed; top:50%; left:50%;
    width:120vmax; height:120vmax;
    background:radial-gradient(circle at center,
                rgba(135,206,255,1) 0%,
                rgba(135,206,255,0.7) 20%,
                transparent 55%);
    border-radius:50%;
    pointer-events:none; opacity:0;
    transform:translate(-50%,-50%) scale(0);
    mix-blend-mode:screen;
  }
  #rad1 { z-index:5;  animation: radialBurst 3s ease-out 33s forwards; }
  #rad2, #rad3, #rad4, #rad5 { z-index:16; }
  #rad2 { animation: radialBurst 3s ease-out 33.4s forwards; }
  #rad3 { animation: radialBurst 3s ease-out 33.8s forwards; }
  #rad4 { animation: radialBurst 3s ease-out 34.2s forwards; }
  #rad5 { animation: radialBurst 3s ease-out 34.6s forwards; }

  @keyframes radialBurst {
    0%   { opacity:0; transform:translate(-50%,-50%) scale(0); }
    15%  { opacity:1; transform:translate(-50%,-50%) scale(0.5); }
    70%  { opacity:0.7; transform:translate(-50%,-50%) scale(1.5); }
    100% { opacity:0; transform:translate(-50%,-50%) scale(3); }
  }

  /* Classic photographic lens flare – on top */
  .lensflare-set {
    position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
    width:100vmax; height:100vmax; pointer-events:none;
    opacity:0; z-index:20; mix-blend-mode:screen;
  }
  #lf1 { animation: realFlare 3.2s ease-out 32.2s forwards; }
  #lf2 { filter:hue-rotate(3deg) brightness(1.1); animation: realFlare 3.2s ease-out 32.7s forwards; }
  #lf3 { filter:hue-rotate(6deg) brightness(1.2); animation: realFlare 3.2s ease-out 33.3s forwards; }

  @keyframes realFlare {
    0%   { opacity:0; transform:translate(-50%,-50%) scale(0.3) rotate(0deg); }
    12%  { opacity:1; transform:translate(-50%,-50%) scale(1) rotate(15deg); }
    100% { opacity:0; transform:translate(-50%,-50%) scale(2) rotate(30deg); }
  }

  /* Real lens flare elements */
  .lensflare-set::before, .lensflare-set::after, .lensflare-set div {
    content:""; position:absolute; border-radius:50%;
    background:skyblue; box-shadow:0 0 40px 20px skyblue;
    mix-blend-mode:screen;
  }
  .lensflare-set::before { /* core */
    width:8vmin; height:8vmin; top:50%; left:50%; transform:translate(-50%,-50%);
    background:white; box-shadow:0 0 60px 30px white, 0 0 100px 60px skyblue;
  }
  .lensflare-set::after { /* big ring */
    width:40vmin; height:40vmin; top:50%; left:50%; transform:translate(-50%,-50%);
    border:4vmin solid rgba(135,206,255,0.6); background:transparent;
  }
  .lensflare-set div:nth-child(1) {width:80vmin; height:4vmin; top:50%; left:-20vmin; transform:translateY(-50%) rotate(20deg);}
  .lensflare-set div:nth-child(2) {width:60vmin; height:3vmin; top:50%; right:-15vmin; transform:translateY(-50%) rotate(-15deg);}

  /* BOOK */
/* NEW: Wrapper specifically for the glow effect */
#book-glow-wrapper {
  position: relative;
  display: inline-block;        /* important so pseudo-element sizes correctly */
  animation: bookGlow 5.5s linear 29.5s infinite alternate;
}

/* This is the actual glowing "shadow" — a blurred duplicate of the book */
#book-glow-wrapper::before {
  content: "";
  position: absolute;
  inset: -10px;                  /* extend a bit beyond the book */
  background: url('book6.png'); /* same image */
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  filter: blur(100px) saturate(5); /* adjust blur/brightness as needed */
  z-index: -1;
  opacity: 0.6;
  pointer-events: none;
}

/* The real book — no drop-shadow, no hue-rotate here anymore */
#book {
  height: 55vh;
  margin: 2vh 1vh 3vh -1vh;
  width: auto;
  position: relative;
  z-index: 2;
  filter: drop-shadow(0 0 40px skyblue);      /* remove drop-shadow and hue-rotate from here */
  display: block;
}
  #bookdiv {
    position:fixed; top:0; left:50%;
z-index:10;
    opacity:0;
    animation: wizardAppear 1s linear 35s forwards;
text-align:center;
transform: translateX(-50%);
  }

#postbook {
    animation: donateAppear 1s linear 36.1s forwards;
margin-top:60vh;
position:relative;
z-index:20;
max-width:320px;
margin-left:auto;
margin-right:auto;
text-align:center;
    background: rgba(0, 0, 0, 0.6);
    filter: drop-shadow(0px 0px 30px black);
    padding: 10px;
    border-radius: 10px;
}



  .speech {
    position:fixed; bottom:38vh; left:50%; transform:translateX(-50%);
    font-size:5vw; font-weight:bold; color:skyblue; text-align:center;
    text-shadow:0 0 12px black; filter:drop-shadow(0 0 1px black);
    background:rgba(0,0,0,0.4); padding:0 1rem; line-height:1.4;
    pointer-events:none; opacity:0;
    z-index:8; /* back to original safe layer */
  }


  #txt1 { animation: fadeSequence 5s linear 1s forwards; }
  #txt2 { animation: fadeSequence 5s linear 6s forwards; }
  #txt3 { animation: fadeSequence 5s linear 12s forwards; }
  #txt4 { animation: fadeSequence 5s linear 17s forwards; }
  #txt5 { animation: fadeSequence 5s linear 22s forwards; }
  #txt6 { animation: fadeSequence 6s linear 28s forwards; }

  @keyframes fadeSequence {
    0%   { opacity:0; }
    10%  { opacity:1; }
    85%  { opacity:1; }
    100% { opacity:0; }
  }

  /* Rest of your original keyframes (unchanged) */
  @keyframes wizardAppear {from{opacity:0;}to{opacity:1;}}
  @keyframes donateAppear {from{opacity:0;}to{opacity:1;}}
  @keyframes bgPulse {0%,100%{filter:brightness(0.40) contrast(1.20);}50%{filter:brightness(0.67) contrast(1.30);}}
  @keyframes wizardBreathe {0%,100%{transform:translateX(-50%) translateY(0) rotate(0deg);}
    35%{transform:translateX(-50%) translateY(-4px) rotate(0.4deg);}
    70%{transform:translateX(-50%) translateY(1px) rotate(-0.3deg);}}
  @keyframes wizardGlow {from{filter:brightness(0.95) contrast(1.1) drop-shadow(0 0 3vw skyblue);}
    to{filter:brightness(1.15) contrast(1.3) drop-shadow(0 0 5vw skyblue);}}
  @keyframes bookGlow {
from{
filter:hue-rotate(0deg);
}
    to{
filter:hue-rotate(360deg);
}
}
  @keyframes inverseGlow {
from{
filter:hue-rotate(0deg);
}
    to{
filter:hue-rotate(-360deg);
}
}

  @keyframes fadeouty {from{opacity:1;}to{opacity:0.4;}}
  @keyframes fadeiny {from{opacity:0;}to{opacity:0.5;}}

#txt1 {color:white !important; background: none !important;}
</style>
</head>
<body>
  <div id="bgblack"></div>
  <div id="bgblack2"></div>
  <img id="bg" src="bg.jpg" alt="background">

  <p class="speech" id="txt1">You enter a town,<br>that time forgot..</p>
  <p class="speech" id="txt2">Greetings,<br>old friend!</p>
  <p class="speech" id="txt3">I knew you would<br>come back here.</p>
  <p class="speech" id="txt4">When was it,<br>in 1547?</p>
  <p class="speech" id="txt5">That dragon deserved it!<br>Anyway..</p>
  <p class="speech" id="txt6">I need to give<br>you something..</p>

  <img id="wizard" src="wizard.png" alt="wizard">
<div id="bookdiv">
  <div id="book-glow-wrapper">
    <img id="book" src="book6.png" alt="Magic Book">
  </div>

</div>

<div id="postbook" style="opacity:0;">
<div id="link1" style="font-weight:bold;border: 1px solid skyblue;border-radius:6px;background: rgba(135,206,235,0.7);color: white;z-index: 100;  animation: bookGlow 5.5s linear 29.5s infinite alternate;"><img src="dl.webp" style="margin-top:8px;margin-bottom:-8px;display:inline-block;height:32px;float:left;filter: invert(1);">Download for FREE<img src="pdf.png" style="animation: inverseGlow 5.5s linear 29.5s infinite alternate;margin-top:8px;margin-bottom:-8px;display:inline-block;height:32px;float:right;"></div>
<h3 style="
    color: white;
    margin-top: 3px;
    margin-bottom: 20px;
    font-size:10px;
    opacity: 0.6;
">226 pages, 147 MB, v1.0</h3>
<div id="wrappy">
<div id="custom-shopify-buy-button">
        <div id="custom-buy-wrapper">
        </div>
        <!-- Paste the same <style> from above here for fallback -->
      </div>
</div>

<p style="color:white;max-width:295px;opacity:0.6;font-size:10px;font-weight:normal;text-align:center;">
Donations will be used to make the world a better place (with funds, we can move mountains!) and feed the wizard's family.</p>
<br>
<p style="color:white;opacity:0.6;font-size:10px;font-weight:normal;text-align:center;">
The wizard gladly accepts cryptocurrencies.
<strong style="color:skyblue;">ETH:</strong>    0x5b97788ae0435eef0bf4a90c9e3d1fd6934ea7c7<br>
<strong style="color:skyblue;">BTC:</strong>   bc1qg97aqeza6wuuap87ptt2tfu6ver9yv30vh4cam<br>
<strong style="color:skyblue;">Solana:</strong>   2CJrSR3wvbtxwTJa6FKCYR3RRUaNW6zMnBbg1z6VTWEE
</p>
<script>
  // === FULLY STATIC - NO FETCHING ANYTHING ===
  const SHOP_DOMAIN = 'shop.thehealthiestwebsite.com';

  // Map display text → variant ID (add/remove as needed)
  const DONATION_OPTIONS = [
    { amount: "$10",   variantId: "49659123728723" },
    { amount: "$25",   variantId: "49659123761491" },
    { amount: "$50",   variantId: "49659123794259", selected: true },
    { amount: "$100",  variantId: "49659123827027" },
    { amount: "$250",  variantId: "49659123859795" },
    { amount: "$500",  variantId: "49659123892563" },
    { amount: "$1000", variantId: "49659123925331" },
    { amount: "$2500", variantId: "49659123958099" },
    { amount: "$5000", variantId: "49659123990867" },
    { amount: "$10000",variantId: "49659124023635" }
  ];

  // Build the donation widget
  document.getElementById('custom-shopify-buy-button').innerHTML = `
    <style>
      #wrappy {
        margin: 5px auto;
        max-width: 320px;
        padding: 5px;
        background: rgba(0,0,0,0.6);
        border: 1px solid rgba(255,255,255,0.2);
        border-radius: 6px;
        color: #fff;
        font-family: Arial, sans-serif;
      }
      #donate-select {
        width: 120px;
display:inline-block;
        padding: 8px;
        margin: 10px 0;
	margin-bottom: 5px;
        background: white;
        color: black;
        border: 1px solid white;
        border-radius: 6px;
        font-size: 18px;
      }
      #donate-btn {
        padding: 11px;
        background: rgb(51, 141, 188);
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 15px;
        font-weight: normal;
        cursor: pointer;
        transition: background 0.3s;
    display: inline-block;
    width: 100px;
    margin-left: 10px;
      }
      #donate-btn:hover { background: rgb(44, 131, 178); }
    </style>

    <div id="donate-wrapper">
      <h3 style="margin:0;color:#fff;font-size:14px;text-shadow:0 0 1.5px #000;">
        Give Coins to the Friendly Wizard:
      </h3>
      <select id="donate-select">
        ${DONATION_OPTIONS.map(opt => 
          `<option value="${opt.variantId}" ${opt.selected ? 'selected' : ''}>
            ${opt.amount}
          </option>`
        ).join('')}
      </select>
      <button id="donate-btn">Donate</button>
    </div>
  `;

  // Click handler
  document.getElementById('donate-btn').addEventListener('click', () => {
    const variantId = document.getElementById('donate-select').value;
    if (!variantId) {
      alert("Please select a donation amount!");
      return;
    }
    // Direct checkout URL with 1 quantity
    const checkoutUrl = `https://${SHOP_DOMAIN}/cart/${variantId}:1`;
    window.open(checkoutUrl, '_blank');
  });
</script>

</div>

  <!-- Radial bursts -->
  <div class="radial-flare" id="rad1"></div>
  <div class="radial-flare" id="rad2"></div>
  <div class="radial-flare" id="rad3"></div>
  <div class="radial-flare" id="rad4"></div>
  <div class="radial-flare" id="rad5"></div>

  <!-- Classic lens flares (on top) -->
  <div class="lensflare-set" id="lf1"><div></div><div></div></div>
  <div class="lensflare-set" id="lf2"><div></div><div></div></div>
  <div class="lensflare-set" id="lf3"><div></div><div></div></div>

  <img class="mist" id="mist1" src="clouds2.webp">
  <img class="mist" id="mist2" src="clouds2.webp">

</body>
</html>